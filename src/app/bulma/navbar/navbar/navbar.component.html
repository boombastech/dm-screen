<nav *ngIf="authenticationState$ | async as authenticationState"
     class="navbar is-fixed-top is-light"
     role="navigation"
     aria-label="main navigation">
    <div class="navbar-brand">
        <a
                class="navbar-item"
                routerLink="/">
            <h1 class="title">DM Screen</h1>
        </a>

        <a
                role="button"
                class="navbar-burger burger"
                aria-label="menu"
                aria-expanded="false"
                data-target="navbarBasicExample"
                (click)="toggleMenu()"
                [ngClass]="{'is-active': showMenu}">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>

    <div id="navbarBasicExample" class="navbar-menu" [ngClass]="{'is-active': showMenu}">
        <div class="navbar-start">
            <a routerLink="/maps/library" class="navbar-item" (click)="toggleMenu()">
                <span class="icon">
                    <i class="fas fa-home"></i>
                </span>
                <span>Home</span>
            </a>

            <a routerLink="/maps/library" class="navbar-item" (click)="toggleMenu()">
                <span class="icon">
                    <i class="fas fa-map-marker-alt"></i>
                </span>
                <span>Maps</span>
            </a>

            <a routerLink="/maps/library" class="navbar-item" (click)="toggleMenu()">
                <span class="icon">
                    <i class="fas fa-users"></i>
                </span>
                <span>NPCs</span>
            </a>
        </div>

        <div class="navbar-end">
            <div class="navbar-item" *ngIf="!authenticationState.isLoggedIn">
                <div class="buttons">
                    <a class="button is-primary" routerLink="/login" (click)="toggleMenu()">
                        <span class="icon">
                            <i class="fas fa-sign-in-alt"></i>
                        </span>
                        <span>Log in</span>
                    </a>
                </div>
            </div>
            <div class="navbar-item has-dropdown is-hoverable" *ngIf="authenticationState.isLoggedIn && authenticationState.activeUser">
                <a class="navbar-link" (click)="toggleMenu()">
                    <span class="icon">
                        <i class="fas fa-user"></i>
                    </span>
                    {{ authenticationState.activeUser.displayName }}
                </a>

                <div class="navbar-dropdown">
                    <a class="navbar-item" (click)="toggleMenu()">
                        <span class="icon">
                            <i class="fas fa-user-cog"></i>
                        </span>
                        <span>Settings</span>
                    </a>
                    <hr class="navbar-divider">
                    <a class="navbar-item" (click)="logout(); toggleMenu()">
                        <span class="icon">
                            <i class="fas fa-sign-out-alt"></i>
                        </span>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</nav>
